# ConvToVTK

## Function 

This program is a simple utility to 

1. convert Gambit Neutral Mesh Files to VTK format files;
2. convert `.msh` file generated by GMSH to VTK format files;
3. convert P1 mesh, in either VTK format or plain text, to P2 mesh.

Meshes generated are compatible with [svFSI](https://github.com/SimVascular/svFSI).

## Build

Before building `ConvToVTK`, make your system has `make` and `gfortran` installed. In Linux system, simply type
   ```base
   make
   ```
If successful, an executable `conv_msh2vtk.exe` will be present in the folder `./bin`.

## Usage

The general usage of this program is
   ```bash
   <path to bin>/bin/conv_msh2vtk.exe <input-file>
   ```
Depending on the format of the original mesh(es), `<input-file>` can be either the name of the original mesh or a text file listing the paths to the orignal meshes. The output will include a body mesh named `mesh-complete.mesh.vtu` and all the boundary meshes in folder `mesh-surfaces`.

Four examples are included here to further demonstrate the usage.

1. Convert Text-format P1 mesh to P2 mesh
   ```bash
   ../../bin/conv_msh2vtk.exe Text-to-P2.dat
   ```
   Type 2 when asked for the dimension of the body mesh. 

2. Convert VTK-format P1 mesh to P2 mesh
   ```bash
   ../../bin/conv_msh2vtk.exe P1-to-P2.dat
   ```
   Type 3 when asked for the dimension of the body mesh.

3. Convert Gambit Neutral Mesh Files
   ```bash
   ../../bin/conv_msh2vtk.exe lumen_cyl_quad2D.neu
   ```

4. Convert GMSH file to VTK mesh
   ```bash
   ../../bin/conv_msh2vtk.exe gmsh_flow_past_cylinder.msh
   ```
   Type 2 when asked for the dimension of the body mesh. When generating mesh using GMSH, remember to assign physical groups to both the body mesh and the boundary meshes.
